{"version":3,"sources":["webpack:///./src/js/init.js"],"names":["module","exports","root","window","mylib","headerAniLink","leftValue","oLiArray","Array","prototype","slice","call","document","getElementsByClassName","oBg","forEach","item","onmouseenter","startMove","this","offsetLeft","oList","dom","mid","clearInterval","timer","iSpeed","a","setInterval","Math","abs","style","left","onmouseout","clearTimeout","backTimer","setTimeout","goBack","detPlayer","is_buy_lesson","videoSrc","player","Aliplayer","id","source","width","height","autoplay","isLive","rePlay","playsinline","preload","controlBarVisibility","useH5Prism","extraInfo","crossOrigin","components","name","type","AliPlayerComponent","MemoryPlayComponent","skinLayout","align","x","y","children","initLesCenter","cateId","cate_id","$","find","attr","url","lesCateUrl","data","sendAjax","getMd","initUserChargeCode","curDataId","parent","charging","data_id","is_discount","chargeCodeSrc","jumpTo","sourceDelegate","removeAttr","removeClass","addClass","hide","show"],"mappings":"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","file":"./js/init.aea1864b95f3863b52d3.js","sourcesContent":["module.exports = {\r\n    // 定义全局\r\n    root: window.mylib,\r\n    // 固定导航游标\r\n    headerAniLink: function (leftValue) {\r\n        var oLiArray = Array.prototype.slice.call(document.getElementsByClassName(\"header_nav_tag\"), 0)\r\n        var oBg = document.getElementsByClassName(\"link-b-bar\")[0]\r\n        oLiArray.forEach(item => {\r\n            item.onmouseenter = function () {\r\n                startMove(oBg, this.offsetLeft)\r\n                return false\r\n            }\r\n        });\r\n        var oList = document.getElementsByClassName(\"list-b\")[0]\r\n        document.getElementsByClassName(\"list-b\")[0].onmouseout = function () {\r\n            clearTimeout(oList.backTimer)\r\n            this.backTimer = setTimeout(() => {\r\n                goBack(leftValue)\r\n            }, 1000);\r\n            return false\r\n        }\r\n\r\n        function goBack(leftValue) {\r\n            clearInterval(oBg.timer)\r\n            startMove(oBg, leftValue)\r\n        }\r\n        // 加速运动\r\n        function startMove(dom, mid) {\r\n            clearInterval(dom.timer)\r\n            var iSpeed = 0\r\n            var a = 0\r\n            // 摩擦力\r\n            var u = 0.9\r\n            dom.timer = setInterval(function () {\r\n                a = (mid - dom.offsetLeft) / 15\r\n                iSpeed = iSpeed + a\r\n                iSpeed = iSpeed * u\r\n                if (Math.abs(dom.offsetLeft - mid) < 1 && iSpeed < 1) {\r\n                    clearInterval(dom.timer)\r\n                } else {\r\n                    dom.style.left = dom.offsetLeft + iSpeed + \"px\"\r\n                }\r\n            }, 20)\r\n        }\r\n    },\r\n    // 实例化播放器\r\n    detPlayer: function () {\r\n        var root = window.mylib\r\n        if (!root.is_buy_lesson) {\r\n            return false;\r\n        } else {\r\n            // console.log(root);\r\n            var videoSrc = root.videoSrc[0]\r\n            var timer = setTimeout(() => {\r\n                root.player = new Aliplayer({\r\n                    \"id\": \"player-con\",\r\n                    \"source\": videoSrc,\r\n                    \"width\": \"100%\",\r\n                    \"height\": \"100%\",\r\n                    \"autoplay\": false,\r\n                    \"isLive\": false,\r\n                    \"rePlay\": false,\r\n                    \"playsinline\": true,\r\n                    \"preload\": true,\r\n                    \"controlBarVisibility\": \"hover\",\r\n                    \"useH5Prism\": true,\r\n                    \"extraInfo\": {\r\n                        \"crossOrigin\": \"anonymous\"\r\n                    },\r\n                    components: [{\r\n                        name: 'MemoryPlayComponent',\r\n                        type: AliPlayerComponent.MemoryPlayComponent,\r\n                    }],\r\n                    \"skinLayout\": [{\r\n                            \"name\": \"bigPlayButton\",\r\n                            \"align\": \"blabs\",\r\n                            \"x\": 30,\r\n                            \"y\": 80\r\n                        },\r\n                        {\r\n                            \"name\": \"H5Loading\",\r\n                            \"align\": \"cc\"\r\n                        },\r\n                        {\r\n                            \"name\": \"errorDisplay\",\r\n                            \"align\": \"tlabs\",\r\n                            \"x\": 0,\r\n                            \"y\": 0\r\n                        },\r\n                        {\r\n                            \"name\": \"infoDisplay\"\r\n                        },\r\n                        {\r\n                            \"name\": \"tooltip\",\r\n                            \"align\": \"blabs\",\r\n                            \"x\": 0,\r\n                            \"y\": 56\r\n                        },\r\n                        {\r\n                            \"name\": \"thumbnail\"\r\n                        },\r\n                        {\r\n                            \"name\": \"controlBar\",\r\n                            \"align\": \"blabs\",\r\n                            \"x\": 0,\r\n                            \"y\": 0,\r\n                            \"children\": [{\r\n                                    \"name\": \"progress\",\r\n                                    \"align\": \"blabs\",\r\n                                    \"x\": 0,\r\n                                    \"y\": 44\r\n                                },\r\n                                {\r\n                                    \"name\": \"playButton\",\r\n                                    \"align\": \"tl\",\r\n                                    \"x\": 15,\r\n                                    \"y\": 12\r\n                                },\r\n                                {\r\n                                    \"name\": \"timeDisplay\",\r\n                                    \"align\": \"tl\",\r\n                                    \"x\": 10,\r\n                                    \"y\": 7\r\n                                },\r\n                                {\r\n                                    \"name\": \"fullScreenButton\",\r\n                                    \"align\": \"tr\",\r\n                                    \"x\": 10,\r\n                                    \"y\": 12\r\n                                },\r\n                                {\r\n                                    \"name\": \"setting\",\r\n                                    \"align\": \"tr\",\r\n                                    \"x\": 15,\r\n                                    \"y\": 12\r\n                                },\r\n                                {\r\n                                    \"name\": \"volume\",\r\n                                    \"align\": \"tr\",\r\n                                    \"x\": 5,\r\n                                    \"y\": 10\r\n                                },\r\n                                {\r\n                                    \"name\": \"snapshot\",\r\n                                    \"align\": \"tr\",\r\n                                    \"x\": 10,\r\n                                    \"y\": 12\r\n                                }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }, function (player) {\r\n                    // console.log(\"播放器创建了。\");\r\n                });\r\n            }, 250);\r\n        }\r\n        // clearTimeout(timer)\r\n    },\r\n    // 初始化 课程中心 课程分类 课程列表\r\n    initLesCenter: function (cateId) {\r\n        var root = window.mylib\r\n        // console.log('初始化课程分类')\r\n        if (cateId == '') {\r\n            // console.log('无选择')\r\n            // 发GET请求 后台 获取所有分类\r\n            // console.log(root.sendAjax)\r\n            var cate_id = $('.select_fl:first').find('.fl_tag:first').attr('data-id')\r\n            var url = root.lesCateUrl\r\n            var sourceDelegate = 'centerLes'\r\n            var data = {\r\n                cate_id: cate_id\r\n            }\r\n            // console.log(data, url)\r\n            root.sendAjax.getMd(sourceDelegate, url, data)\r\n        }\r\n    },\r\n    // 初始化个人中心 二维码\r\n    initUserChargeCode: function () {\r\n        var root = window.mylib\r\n        setTimeout(() => {\r\n            var curDataId = $('.charge_item_list .select').parent('.charge_item').attr('data-id')\r\n            // console.log(9876554, curDataId)\r\n            root.charging = true\r\n            // 发送二维码请求\r\n            var data = {\r\n                data_id: curDataId,\r\n                is_discount: root.is_discount\r\n            }\r\n            var url = root.chargeCodeSrc\r\n            var sourceDelegate = 'chargeCode'\r\n            // console.log(url, data)\r\n            root.sendAjax.getMd(sourceDelegate, url, data)\r\n        }, 0);\r\n\r\n\r\n    },\r\n    // 关闭后跳转 页面/模块\r\n    jumpTo: function (sourceDelegate) {\r\n        var root = window.mylib\r\n        if (sourceDelegate == 'userChargeSuc' || sourceDelegate === 'userChargeFail') {\r\n            $('.charge_item_list').find('.select input').removeAttr('checked')\r\n            $('.charge_item_list').find('.select').removeClass('select')\r\n            $('.charge_item:first-child').children('.card-item-b').addClass('select')\r\n            $('.charge_item:first-child').find('input').attr('checked', 'checked')\r\n            $('.llb-toggle .rt_bt:last-child').hide()\r\n            var timer = setTimeout(() => {\r\n                $('.llb-toggle .rt_bt:last-child').show()\r\n            }, 500);\r\n            this.initUserChargeCode()\r\n            // var data_id = $('.charge_item').eq(0).data('id')\r\n            // window.location.reload()\r\n            //    选中第一个模块\r\n            // 重新获取一次二维码\r\n        }\r\n    }\r\n\r\n};"],"sourceRoot":""}