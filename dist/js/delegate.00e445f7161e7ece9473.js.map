{"version":3,"sources":["webpack:///./src/js/delegate.js"],"names":["Delegate","this","isFirst","prototype","init","eventTarget","obj","$","showStars","showVideo","jionStudy","pnIndex","switchLesDetTag","userCenterIndex","userCenterComponent","clickEvent","_this","off","on","index","__webpack_require__","e","then","t","bind","module","default","checkChargeStatus","_arg","childSwitch","apply","chargeSwith","chargeItemChoice","closeVideo","clickSearch","focus","keyup","event","keyCode","root","window","mylib","keyWords","val","srcKeyWords","data","keywords","page","layer","open","title","content","pageInit","url","searchUrl","sendAjax","getMd","searchLes","getQueryString","showSearchPage","console","log","location","href","searchAdr","searchCon","htmlCon","decode","empty","append","reg","r","RegExp","search","substr","match","indexId","find","removeAttr","removeClass","children","addClass","attr","data_id","eq","is_discount","chargeCodeSrc","hide","show","hasClass","charging","initUserChargeCode","is_buy_lesson","pingfenHtml","layui","use","type","shadeClose","clickStart","dataObj","fansid","lessonData","videos_id","scores","subPf","holyWidth","Number","css","split","clickWidth","offsetX","percent","Math","ceil","pfText","text","eleWidth","pingLesUrl","postMd","close","cfmText","confirm","btn","yes","buyLesUrl","btn1","layero","player","pause","slideUp","slideDown","choiceFl","__this","each","_that","showChoicFl","toggleSelect","btnPanel","styleEle","parent","toggleClass","dataId","replace","lesCateUrl","cate_id","del","exports"],"mappings":"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","file":"./js/delegate.00e445f7161e7ece9473.js","sourcesContent":["// 构造函数\r\nfunction Delegate() {\r\n    // 加属性\r\n    this.isFirst = true\r\n}\r\n// 原型加方法\r\nDelegate.prototype = {\r\n    /***初始化入口 */\r\n    init: function (eventTarget, obj) {\r\n        var _this = this\r\n        if (_this.isFirst) {\r\n            if (eventTarget == $('.pf_btn')[0]) {\r\n                _this.showStars()\r\n            } else if (eventTarget == $('#myPlayBtn2')[0] || eventTarget == $('#myPlayBtn')[0]) {\r\n                // console.log(2134)\r\n                _this.showVideo()\r\n\r\n            } else if (eventTarget == $('.join_btn')[0]) {\r\n                _this.jionStudy()\r\n\r\n            } else if (obj) {\r\n                if (obj.pnIndex) {\r\n                    _this.switchLesDetTag(obj.pnIndex)\r\n                } else if (obj.userCenterIndex) {\r\n                    _this.userCenterComponent(obj.userCenterIndex)\r\n                }\r\n            }\r\n            // else if (eventTarget == $('.btn_lr')[0]) {\r\n            //     _this.showSearchPage()\r\n            // }\r\n            _this.isFirst = false\r\n        }\r\n        _this.clickEvent()\r\n    },\r\n\r\n    // 点击事件\r\n    clickEvent: function () {\r\n        var _this = this\r\n\r\n        // 个人中心 模块切换\r\n        $('.uc_com_tag').off()\r\n        $('.uc_com_tag').on('click', function () {\r\n            var pnIndex = $(this).index()\r\n            _this.userCenterComponent(pnIndex)\r\n            // init.initUserChargeCode()\r\n\r\n            // import( /* webpackChunkName: \"init\" */ './init.js').then(module => {\r\n            //     var init = module.default;\r\n            //     init.initUserChargeCode()\r\n            // });\r\n            return false\r\n        })\r\n        // 如果切换到充值流量币，初始化一次二维码\r\n        $('.my_coin_btn').on('click', function () {\r\n            import( /* webpackChunkName: \"renderData\" */ './renderData.js').then(module => {\r\n                var renderData = module.default;\r\n                renderData.checkChargeStatus()\r\n            });\r\n        })\r\n        // 个人中心 切换学生\r\n        $('.centre_child').off()\r\n        $('.centre_child').on('click', function () {\r\n            var pnIndex = $(this).index()\r\n            var _arg = [pnIndex]\r\n            _this.childSwitch.apply($(this), _arg)\r\n        })\r\n\r\n        // 个人中心 流量币模块\r\n        $('.charge_com').off()\r\n        $('.charge_com').on('click', function () {\r\n            var pnIndex = $(this).index()\r\n            var _arg = [pnIndex]\r\n            _this.chargeSwith.apply($(this), _arg)\r\n        })\r\n\r\n        // 个人中心 选择充值数量\r\n        $('.charge_item').off()\r\n        $('.charge_item').on('click', function () {\r\n            var pnIndex = $(this).index()\r\n            var _arg = [pnIndex]\r\n            _this.chargeItemChoice.apply($(this), _arg)\r\n        })\r\n        // 展示注册登录二维码弹窗\r\n        // $('.btn_lr').off()\r\n        // $('.btn_lr').on('click', function () {\r\n        //     _this.showSearchPage()\r\n        // })\r\n\r\n        // 切换header tag\r\n        $('.det_tag_bx .tt-item').off()\r\n        $('.det_tag_bx .tt-item').on('click', function () {\r\n            var pnIndex = $(this).index()\r\n            _this.switchLesDetTag(pnIndex)\r\n        })\r\n        // 播放器\r\n        $('#myPlayBtn').off()\r\n        $('#myPlayBtn').on('click', function () {\r\n            _this.showVideo()\r\n        })\r\n        $('#myPlayBtn2').off()\r\n        $('#myPlayBtn2').on('click', function () {\r\n            _this.showVideo()\r\n        })\r\n        // 退出播放器\r\n        $('#exitBtn').off()\r\n        $('#exitBtn').on('click', function () {\r\n            _this.closeVideo()\r\n\r\n        })\r\n        //加入学习 提示\r\n        $('.join_btn').off()\r\n        $('.join_btn').on('click', function () {\r\n            _this.jionStudy()\r\n            return false\r\n        })\r\n        // 参与评分\r\n        $('.pf_btn').off()\r\n        $('.pf_btn').on('click', function () {\r\n            _this.showStars()\r\n            return false\r\n        })\r\n        // 搜索课程\r\n        $('.search-img').off()\r\n        $('.search-img').on('click', function () {\r\n            // _this.showStars()\r\n            return false\r\n        })\r\n        // 搜索页搜索课程\r\n        $('.search-icon .search-img').off()\r\n        $('.search-icon .search-img').on('click', function () {\r\n            _this.clickSearch()\r\n        })\r\n        $('.search-item input').off()\r\n        $('.search-item input').focus(function () {\r\n            $('html, body').keyup(function (event) {\r\n                if (event.keyCode == 13) {\r\n                    _this.clickSearch()\r\n                }\r\n            });\r\n        })\r\n    },\r\n    clickSearch: function () {\r\n        var root = window.mylib\r\n        var keyWords = $('.search-item input').val()\r\n        root.srcKeyWords = keyWords\r\n        var data = {\r\n            keywords: root.srcKeyWords,\r\n            page: 1,\r\n        }\r\n        if (data.keywords == '') {\r\n            layer.open({\r\n                title: '提示',\r\n                content: '请输入搜索内容~'\r\n            })\r\n        } else {\r\n            root.pageInit = true\r\n            var sourceDelegate = 'searchList'\r\n            var url = root.searchUrl\r\n            // root.sendAjax.postMd(sourceDelegate, url, data)\r\n            root.sendAjax.getMd(sourceDelegate, url, data)\r\n            // this.searchCon(root.srcKeyWords)\r\n        }\r\n    },\r\n    searchLes: function () {\r\n        var root = window.mylib\r\n        var data = this.getQueryString()\r\n        if (data.keywords == '') {\r\n            // layer.open({\r\n            //     title: '提示',\r\n            //     content: '请输入搜索内容~'\r\n            // })\r\n            // $('.video-list-b').css('minHeight', 'auto')\r\n        } else {\r\n            var sourceDelegate = 'searchList'\r\n            var url = root.searchUrl\r\n            // console.log(url, data)\r\n            // root.sendAjax.postMd(sourceDelegate, url, data)\r\n            root.sendAjax.getMd(sourceDelegate, url, data)\r\n            // this.searchCon(root.srcKeyWords)\r\n        }\r\n\r\n    },\r\n    showSearchPage: function () {\r\n        var root = window.mylib\r\n        // console.log('搜索~！！！')\r\n        var keyWords = $('.search-item input').val()\r\n        // console.log(keyWords)\r\n        console.log(keyWords)\r\n        if (keyWords != '') {\r\n            root.srcKeyWords = keyWords\r\n            window.location.href = root.searchAdr + \"?keywords=\" + root.srcKeyWords\r\n        } else {\r\n            window.location.href = root.searchAdr\r\n        }\r\n\r\n    },\r\n    // 搜索内容提示\r\n    searchCon: function (keywords) {\r\n        var keywords = (this.decode(keywords))\r\n        var htmlCon = `\r\n            搜索<em>\"${keywords}\"</em>结果\r\n        `\r\n        $('.search-tt .tt-txt').empty().append(htmlCon)\r\n    },\r\n\r\n    // 获取地址中的参数Id\r\n    getQueryString: function () {\r\n        var root = window.mylib\r\n        root.srcKeyWords = getKeyword('keywords') // 挂载到当前页面全局\r\n        // var page = getKeyword('page')\r\n        var data = {\r\n            keywords: root.srcKeyWords,\r\n            page: 1,\r\n        }\r\n\r\n        function getKeyword(keyword) {\r\n            var reg = new RegExp(\"(^|&)\" + keyword + \"=([^&]*)(&|$)\");\r\n            var r = window.location.search.substr(1).match(reg);\r\n            if (r != null) return r[2];\r\n            return '';\r\n        }\r\n        return data\r\n    },\r\n    chargeItemChoice: function (indexId) {\r\n        var root = window.mylib\r\n        $('.charge_item_list').find('.select input').removeAttr('checked')\r\n        $('.charge_item_list').find('.select').removeClass('select')\r\n        this.children('.card-item-b').addClass('select')\r\n        this.find('input').attr('checked', 'checked')\r\n        var data_id = $('.charge_item').eq(indexId).data('id')\r\n\r\n        import( /* webpackChunkName: \"sendAjax\" */ './sendAjax.js').then(module => {\r\n            var sendAjax = module.default;\r\n            // 发送二维码请求\r\n            var data = {\r\n                data_id: data_id,\r\n                is_discount: root.is_discount\r\n            }\r\n            var url = root.chargeCodeSrc\r\n            var sourceDelegate = 'chargeCode'\r\n\r\n            root.sendAjax.getMd(sourceDelegate, url, data)\r\n        });\r\n    },\r\n    chargeSwith: function (indexId) {\r\n        $('.charge_tag_list').find('.select').removeClass('select')\r\n        this.addClass('select')\r\n        $('.llb-toggle .rt_bt').hide()\r\n        $('.llb-toggle .rt_bt').eq(indexId).show()\r\n\r\n    },\r\n    childSwitch: function (indexId) {\r\n        $('.s_child_tags').find('.select input').removeAttr('checked')\r\n        $('.s_child_tags').find('.select').removeClass('select')\r\n        this.addClass('select')\r\n        this.find(\"input[type='radio']\").attr('checked', 'checked')\r\n    },\r\n    userCenterComponent: function (indexId) {\r\n        var root = window.mylib\r\n        $('.uc_com_tag').find('.select').removeClass('select')\r\n        $('.uc_com_tag').eq(indexId).find('.text').addClass('select')\r\n        $('.rt_con').hide()\r\n        $('.rt_con').eq(indexId).show()\r\n        // 如果切换到\r\n        if (!$('.uc_com_tag').eq(indexId).hasClass('my_coin_btn')) {\r\n            root.charging = false\r\n        } else {\r\n            root.charging = true\r\n            // 如果切换到充值流量币，初始化一次二维码\r\n            import( /* webpackChunkName: \"init\" */ './init.js').then(module => {\r\n                var init = module.default;\r\n                init.initUserChargeCode()\r\n            });\r\n        }\r\n    },\r\n    showStars: function () {\r\n        var _this = this\r\n        if (root.is_buy_lesson != \"1\") {\r\n            layer.open({\r\n                title: '提示',\r\n                content: '请先购买课程~'\r\n            })\r\n            return false\r\n        } else {\r\n            var url = window.mylib.url\r\n            var pingfenHtml =\r\n                \"\\n                        <div class=\\\"star-tc\\\">\\n                        <div class=\\\"stars-b stars_btn\\\">\\n                            <div class=\\\"stars-top \\\">\\n                                <div class=\\\"stars\\\" style=\\\"background-image:url(\" + url + \"img/starsShi.png)\\\"></div>\\n                            </div>\\n                            <div class=\\\"stars-bot\\\">\\n                                <div class=\\\"stars\\\" style=\\\"background-image:url(\" + url + \"img/starsKong.png)\\\"></div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"stars-text\\\">\\n                            <div class=\\\"text-con\\\">\\u8D85\\u8D5E</div>\\n                        </div>\\n                    </div>\\n                    <div class='pj-btn-b pj_btn_b'>\\n                        <input class='pj-btn' type='button' value = '\\u63D0\\u4EA4'>\\n                    </div>\\n                    \\n                        \";\r\n            layui.use('layer', function () {\r\n                var layer = layui.layer;\r\n                var index = layer.open({\r\n                    type: 1,\r\n                    shadeClose: true,\r\n                    content: pingfenHtml //这里content是一个普通的String\r\n                });\r\n                _this.clickStart(index)\r\n                layer.title('课程评分', index)\r\n            });\r\n        }\r\n    },\r\n\r\n    clickStart: function (index) {\r\n        var _this = this\r\n        var fansid = root.lessonData.fansid\r\n        var videos_id = root.lessonData.videos_id\r\n        var dataObj = {\r\n            fansid: fansid,\r\n            videos_id: videos_id,\r\n            scores: 10,\r\n            content: \"超赞\",\r\n        }\r\n        // console.log(dataObj)\r\n        _this.subPf(dataObj, index)\r\n        $('.stars_btn').on(\"click\", function (e) {\r\n            var holyWidth = Number($(this).css('width').split('p')[0])\r\n            var clickWidth = e.offsetX\r\n            var percent = Math.ceil(clickWidth / holyWidth * 100)\r\n            var yushu = percent % 10\r\n\r\n            if (0 <= percent && percent < 10) {\r\n                percent = 0\r\n            } else if (90 < percent && percent <= 100) {\r\n                percent = 100\r\n            } else {\r\n                percent = percent - yushu + 10\r\n            }\r\n\r\n            var pfText = ''\r\n            // 一般 还行 不错 满意 超赞\r\n            switch (percent) {\r\n                case 0:\r\n                    pfText = \"一般\"\r\n                    break;\r\n                case 10:\r\n                    pfText = \"一般\"\r\n                    break;\r\n                case 20:\r\n                    pfText = \"还行\"\r\n                    break;\r\n                case 30:\r\n                    pfText = \"还行\"\r\n                    break;\r\n                case 40:\r\n                    pfText = \"不错\"\r\n                    break;\r\n                case 10:\r\n                    pfText = \"不错\"\r\n                    break;\r\n                case 50:\r\n                    pfText = \"不错\"\r\n                    break;\r\n                case 60:\r\n                    pfText = \"满意\"\r\n                    break;\r\n                case 70:\r\n                    pfText = \"满意\"\r\n                    break;\r\n                case 80:\r\n                    pfText = \"满意\"\r\n                    break;\r\n                case 90:\r\n                    pfText = \"满意\"\r\n                    break;\r\n                case 100:\r\n                    pfText = \"超赞\"\r\n                    break;\r\n\r\n            }\r\n            // 讲0 -100转为 0 -10\r\n            var scores = percent / 10\r\n            $(\".star-tc .text-con\").text(pfText)\r\n            var eleWidth = holyWidth * percent / 100 + 'px'\r\n            // console.log( holyWidth * percent / 100 + 'px')\r\n            $(\".stars_btn .stars-top .stars\").css(\"width\", eleWidth)\r\n            // 获取评分数据传后台\r\n            dataObj.scores = scores\r\n            dataObj.content = pfText\r\n            // console.log(dataObj)\r\n            _this.subPf(dataObj, index)\r\n            return false\r\n        })\r\n    },\r\n    /**\r\n     * \r\n     * @param {评价数据} dataObj \r\n     * @param {layer 弹窗} index \r\n     */\r\n    subPf: function (dataObj, index) {\r\n        var root = window.mylib\r\n        // 提交评分\r\n        $(\".pj-btn-b .pj-btn\").off()\r\n        $(\".pj-btn-b .pj-btn\").on(\"click\", function () {\r\n            // pfUrl定义在html\r\n            // console.log(dataObj, root.sendAjax)\r\n            var sourceDelegate = 'lesPingfen'\r\n            var url = root.pingLesUrl\r\n            var data = dataObj\r\n            // console.log(url, data)\r\n            root.sendAjax.postMd(sourceDelegate, url, data)\r\n            // root.sendAjax.getMd(sourceDelegate, url, data)\r\n            layer.close(index);\r\n        })\r\n    },\r\n    jionStudy: function () {\r\n        var root = window.mylib\r\n        var layer = layui.layer;\r\n        var payNum = $('.pay-text span:last-child').text()\r\n        var cfmText = `本课程${payNum}流量币，是否确认购买？`\r\n        var index = layer.confirm(cfmText, {\r\n            title: \"提示\",\r\n            btn: ['确定', '取消'] //可以无限个按钮\r\n                ,\r\n            yes: function () {\r\n                // getMd: function (sourceDelegate, url, data) {\r\n                var sourceDelegate = 'buyLes'\r\n                var url = root.buyLesUrl\r\n                var data = root.lessonData\r\n                // console.log(url, data)\r\n                root.sendAjax.postMd(sourceDelegate, url, data)\r\n                layer.close(index);\r\n            },\r\n            btn1: function (index, layero) {\r\n                return false\r\n            }\r\n        });\r\n    },\r\n    // 关闭播放\r\n    closeVideo: function () {\r\n        // console.log(root)\r\n        root.player.pause()\r\n        $('#videoWrap').slideUp('250')\r\n    },\r\n    // 播放视频\r\n    showVideo: function () {\r\n        if (root.is_buy_lesson != '1') {\r\n            // 未购买 不弹出视频\r\n            layer.open({\r\n                title: '提示',\r\n                content: '请先购买课程~'\r\n            })\r\n            return false\r\n        } else {\r\n            $('#videoWrap').slideDown('500')\r\n        }\r\n    },\r\n    // 课程详情菜单切换\r\n    switchLesDetTag: function (pnIndex) {\r\n        // console.log(pnIndex)\r\n        $('.det_tag_bx .tt-item').find('.select').removeClass('select')\r\n        $('.det_tag_bx .tt-item').eq(pnIndex).find('.item-text').addClass('select')\r\n        $('.bot-wrap .bot-pn').hide()\r\n        $('.bot-wrap .bot-pn').eq(pnIndex).slideDown('fast')\r\n    },\r\n\r\n    // 选择分类\r\n    choiceFl: function () {\r\n        var __this = this\r\n        $('.select_fl').each(function () {\r\n            var _that = $(this)\r\n            _that.find('.fl_tag').off()\r\n            _that.find('.fl_tag').on('click', function () {\r\n                var _this = $(this)\r\n                __this.showChoicFl.apply(_this)\r\n                // 切换选中项\r\n                var _arg = ['.fenlei-list', '.fenlei-text']\r\n                __this.toggleSelect.apply(_this, _arg)\r\n            })\r\n        })\r\n    },\r\n    // 切换 select \r\n    toggleSelect: function (btnPanel, styleEle) {\r\n        // console.log(btnPanel, styleEle)\r\n        $(this).parent(btnPanel).find('.select').toggleClass('select')\r\n        $(this).find(styleEle).toggleClass('select')\r\n    },\r\n    showChoicFl: function () {\r\n        var _this = $(this)\r\n        var root = window.mylib\r\n        var dataId = _this.data('id')\r\n        var flText = _this.children('.fenlei-text').text().replace(/^\\s+|\\s+$/g, \"\")\r\n        // console.log(dataId, flText)\r\n        // 获取新的分类是 重新实例化分页组件\r\n        root.pageInit = true\r\n        var url = root.lesCateUrl\r\n        var sourceDelegate = 'centerLes'\r\n        var data = {\r\n            cate_id: dataId\r\n        }\r\n        root.sendAjax.getMd(sourceDelegate, url, data)\r\n    }\r\n}\r\n\r\n// 实例化\r\nvar del = new Delegate()\r\nwindow.mylib.del = del\r\n// 输出\r\nmodule.exports = del"],"sourceRoot":""}